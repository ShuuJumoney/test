<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="icon" href="./image/favicon.ico" type="image/x-icon">
<title>주머니 순회</title>
<script type="text/javascript" src="./js/cache.js?v241101"></script>
<script type="text/javascript" src="./js/apiCode.js"></script>
<script src="./js/erinTime.min.js?v2"></script>
<script type="text/javascript" src="./js/decodeGivenColorQuery.min.js"></script>
<script type="text/javascript" src="./js/a_001.js?241103"></script>
<script src="https://cdn.jsdelivr.net/npm/dom-to-image-more@2.8.0/dist/dom-to-image-more.min.js"></script>
<script	src="https://cdn.jsdelivr.net/npm/dom-to-image-font-patch@latest/dist/dom-to-image-font-patch.min.js"></script>
<script type="text/javascript" src="./js/jumoney.js?v241104"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.14.4/dist/sweetalert2.all.min.js"></script>
<link rel="stylesheet" href="./js/izitoast/iziToast.css"></link>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script type="text/javascript"  src="./js/izitoast/iziToast.js"></script>
<link rel="stylesheet" href="./css/font.css?241104">
<link rel="stylesheet" href="./css/default.css?v241104">
<link rel="stylesheet" href="./css/icon/iconStyle.css?v241101">
<link rel="stylesheet" href="./js/sweetalert2/sweetalert2.css"></link>
<script>

</script>
<style>
	#loading a {
		text-decoration: none;
	    color: #1f5593;
	    font-weight: bold;
	}
</style>
</head>
<body>
	<div id="main">
		<div id="srchForm">
			<div id="time-area">
				<sapn>
					오늘 날짜: <span id="today"></span>
				</sapn>
				<span style="visibility: hidden;">
					호출 시간: <span id="lastCallTime"></span>
				</span>
				<span id="resetTime">
					다음 리셋: <span id="time"></span>
				</span>
				<sapn id="erinTime">
				</sapn>
			</div>
			<div id="top-info">
				<div class="srchBtn">
					<select id="npc_nm" class="">
						<option value="all">전체</option>
						<option value="상인 네루">티르코네일</option>
						<option value="상인 누누">던바튼</option>
						<option value="상인 메루">이멘마하</option>
						<option value="상인 라누">반호르</option>
						<option value="상인 베루">탈틴</option>
						<option value="상인 에루">타라</option>
						<option value="상인 아루">카브</option>
						<option value="상인 피루">벨바스트</option>
						<option value="상인 세누">스카하</option>
						<option value="테일로">켈라</option>
						<option value="켄">필리아</option>
						<option value="리나">코르</option>
						<option value="카디">발레스</option>
						<option value="귀넥">카루</option>
						<option value="얼리">오아시스</option>
						<option value="모락">칼리다</option>
						<option value="데위">페라(자르딘)</option>
					</select>
					
					<select id="server">
						<option value="류트">류트</option>
						<option value="하프">하프</option>
						<option value="울프">울프</option>
						<option value="만돌린">만돌린</option>
					</select>
					
					<select id="ch" class="">
					</select>
				</div>
				<input type="password" id="apiKey"><button id="setApiKey" style="margin-right: 6px;">검색</button>
				<label class="checkLabel">
			        <span>공용키 사용</span>
			        <input type="checkbox" id="shareKey">
			        <span class="checkmark"></span>
			    </label>
				<button onclick="window.open('https://openapi.nexon.com/my-application/')">KEY 생성</button>
			</div>			
			<div id="wid">
				
								
				<div id="locationPrevNext" class="srchBtn">
					<button id="prevLo">이전 마을</button>
				    <button id="nextLo">다음 마을</button>
			    </div>
			    <div id="channelPrevNext" class="srchBtn">
					<button id="prev">이전 채널</button>
				    <button id="next">다음 채널</button>
			    </div>
			    <button id="checkSet" style="margin-left: 2px;">채널링</button>
			    <button id="checkAllServers">전 서버 채널링</button>
			    <button id="betaJumoney" onclick="location.href='jumoney-beta.html'" style="font-size: 8pt;padding: 4px;">주머니<br>Beta</button>				
			</div>
		</div>
		<div id="filter-color" class="hide-show-srch">
			<div id="colorFilter">
			    <label for="colorInput">색상 코드 필터:</label>
			    <input type="text" id="colorInput" placeholder="#RRGGBB 형식">
			    <button id="applyColorFilter">필터 적용</button>
			</div>
		</div>
		<div id="loading">
			<ul>
				<li>얼레벌레 공지입니다. 보기 좋게 만드는 건 기능구현 후에..</li>
			</ul>
			<br/>
			<ul style="background: #fff8c7;font-size: 11pt;">
				<li>색상코드 계산법이 <a href="https://x.com/jumeonidik3038" target="_blank">주머니디코@jumeonidik303</a>이 제공해주신 파일 수정본으로 대체됩니다.</li>
				<li>&nbsp;</li>
				<li>이미지 제작에 도움 및 파일 제공 해주신 <a href="https://x.com/darkchocored" target="_blank">주머니보고다님@darkchocored</a>님 감사합니다.</li>
				<li>&nbsp;</li>
				<li>10월 26일 이후 업데이트는 <a href="https://x.com/Shuu__deal/status/1850117716096725476" target="_blank">여기</a>에서 확인 가능합니다.</li>		
			</ul>			
			
			<ul>
				<li>채널링, 특히 전 서버 채널링은 어쩔 수 없이 api 호출 횟수가 많습니다.</li>
				<li>서비스 api키 발급에서 사이트 검증을 안하는 것 같으니 참고하세요!</li>
			</ul>		
	
			<br/>
			
			<ul style=" background: #fcf3f3;">
				<li><label class="new_nt">new</label>2024-11-04 18:30</li>
				<li>&nbsp;</li>
				<li>모달창에서 세트별 서버 채널 표시가 추가됩니다.</li>
			</ul>
			
			<ul style=" background: #fcf3f3;">
				<li><label class="new_nt">new</label>2024-11-03 20:30</li>
				<li>&nbsp;</li>
				<li>공용키 사용이 추가됩니다.</li>
				<li>- 검색 버튼 우측 체크 박스를 선택하여 사용할 수 있으며, 키 입력 없이 사용하실 수 있습니다.</li>
				<li>&nbsp;</li>
				<li>- 트래픽이 얼마나 될지 몰라서 중간에 잘 안될경우는 공용키 사용을 해제하고 키 입력 후 사용해주세요.</li>
			</ul>
			
			<ul style=" background: #fcf3f3;">
				<li>2024-11-01 23:02</li>
				<li>&nbsp;</li>
				<li>1. 채널링 후 가독성을 위해 세트 정보를 우선 표시합니다.</li>
				<li>&nbsp;&nbsp;&nbsp;&nbsp;"옷감셋" 혹은 "서버 마크", "채널링 정보" 를 누르면 채널이 표시됩니다.</li>
				<li>&nbsp;</li>
				<li>2. 모달창에서는 채널 숨김 없이 기본적으로 전부 표시 됩니다.</li>
				<li>&nbsp;</li>
				<li>3. 모달창에서 미리보기 이미지를 클릭하여 원하는 주머니를 3배 확대 이미지로 볼 수 있습니다.</li>
				<li>&nbsp;</li>
				<li>4. 채널링 표시에서 제알 앞 채널이 강조 표시 되며, 다른 채널은 좀 더 작고 연하게 표시 됩니다.</li>
				<li>&nbsp;&nbsp;&nbsp;&nbsp;해당 기능의 경우 기존 처럼 보기 위한 토글 기능을 추가 예정입니다.</li>
				<li>&nbsp;</li>
				<li>5. 셀레 박스에서 선택한 채널이 로컬 데이터에 저장되어 유지됩니다.</li>
				<li>&nbsp;&nbsp;&nbsp;&nbsp;이전 및 다음 채널 버튼으로 이동한 채널은 저장되지 않습니다.</li>
				<li>&nbsp;&nbsp;&nbsp;&nbsp;서버를 변경할 경우 1채로 변경됩니다. 채널 선택에서 다시 저장할 수 있습니다.</li>
				<li>&nbsp;</li>
				<li>6. 모달창에서 복사 성공시 뜨던 귀찮은 경고창이 대체됩니다!</li>
				<li>&nbsp;</li>
			</ul>
			
			<ul style=" background: #fcf3f3;">
				<li>2024-10-31 22:02</li>
				<li>저가형 로마자를 제외한 일반, 고급, 최고급 로마자 계산법이 수정되었습니다.</li>
			</ul>
			<ul>
					
			</ul>
			<ul>
				<li>아이템 이미지 부분 더블클릭시 채널링 기능이 생겼습니다.</li>
				<li>캡쳐시 API KEY 노출을 방지 합니다.</li>							
				<li>주머니 이름 클릭시 이미지 위에 지역 이름이 표시됩니다!</li>
			</ul>
				
			<ul>
				<li>2024-10-27 19:42</li>								
				<li>미리보기 이미지가 api 호출이 아닌 자체 이미지로 변경됩니다.</li>
				<li>이미지는 약간의 오차가 있을 수 있습니다.</li>
				<li>&nbsp;</li>
				<li>모달 창에서 각 아이템 이름 왼쪽에 C팟 컬러에 해당하는 색이 표시됩니다.</li>
				<li>&nbsp;</li>
				<li>모달 창에서 우측 상단에 리셋시간, 남은시간, 현재시간이 표시됩니다.</li>
				<li>현재 시간의 경우 모달 창의 넓이가 좁을 경우 표시되지 않습니다.</li>
			</ul>
							
			<ul>				
				<li>테스트키로 채널링 및 전체 채널링 검색 시 초당 호출 횟수 제한 우회를 위한 로딩시간이 있습니다.</li>
				<li>어디까지 로딩했는지 확인 가능합니다.</li>
				<li>로딩된 데이터는 페이지를 새로고침 하거나, 리셋시간이 되지 않은 경우 캐시에 저장 되어있으니</li>
				<li>호출 제한 코드가 뜬 후 다시 채널링을 누를 경우 못 받은 데이터만 호출해서 가져옵니다.</li>
			</ul>
			
			<ul>
				<li>기능 추가 예정 - 여기 중에 뭐가 먼저 나올지는 저도 모르겠어요</li>
				<li>주머니 코드 입력시 원하는 지향 주머니 이미지 제작</li>		
				<li>만들어진 이미지를 픽셀이 깨지지 않고 축소 확대 기능 추가 예정</li>				
				<li>색 필터링 검색 기능 추가 예정</li>
			</ul>
		</div>
		<div id="tables" style="display:none;"></div>
		<div id="results"></div>
	</div>
	
	<div id="capture_modal" class="modal close">
		<div class="modal">
	        <h3>모달 창</h3>
	        <p>이것은 모달 창입니다. 모달 창을 닫으려면 아래 버튼을 누르세요.</p>
	        <button class="close-button">닫기</button>
	    </div>
	</div>
	
	<!-- 모달 -->
	<div id="itemModal" class="modal-overlay" style="display: none;">
	    <div class="modal-content">
	    	<div id="modal-btns">
	        	<span id="captureBtn" class="modal-icon icon-Image--Streamline-Phosphor"></span>
	        	<span id="captureSaveBtn" class="modal-icon icon-Floppy-Disk"></span>
		        <span id="closeModal" class="close-button">×</span>
			</div>
	        <div class="modal-body">
	            <!-- 왼쪽: 이미지와 색상 정보 -->
	            <div class="left-layout">	      
		            <h3 id="modalItemName"></h3>
	                <div class="image-container">
	                    <img id="modalApiImage" src="" class="api-img">
	                    <img id="modalMabibaseImage" src="" class="zoomable-image mabibase-img">
	                </div>
	                <div id="modalItemColors"></div> <!-- 색상 정보 -->
	                <div class="image-copy-container"> <!-- 이미지 복사본 위치 -->
	                    <img id="modalMabibaseImageCopy" src="" class="zoomable-image-copy">
	                </div>
	                <div class="image-list-sample">
	                </div>
	                
	            </div>
				<!-- <button id="capturePreviewBtn">미리보기</button> -->
	            <!-- 오른쪽: 세트 정보와 채널 정보 -->
	            <div class="right-layout">
	            	<div id="modalTime">
						<span id="modal-resetTime"><label class="timeTitle">리셋시간</label><span class="set-time"></span></span>
						<span id="modal-haveTime"><label class="timeTitle">남은시간</label><span class="set-time"></span></span>
						<span id="modal-realTime"><label class="timeTitle">현재시간</label><span class="set-time"></span></span>
					</div>
					<div id="right-content">
		                <!-- <div class="set-info" id="modalItemSet"></div>  --><!-- 세트 정보 -->
		                <div class="channel-info" id="modalItemChannel"></div> <!-- 채널 정보 -->
	                </div>
	                <span id="curDate"></span>
	            </div>
	        </div>
	    </div>
	</div>
	
	<!-- 미리보기 모달 추가 -->
	<div id="previewModal" class="modal" style="display:none;">
	    <div class="modal-content">
	        <span id="closePreviewModal" class="close">&times;</span>
	        <img id="previewModalImage" style="width: 100%; height: auto;" alt="Captured Preview">
	    </div>
	</div>
	
	<!-- 로딩 오버레이 -->
	<div id="loadingOverlay" class="loading-overlay hidden">
	  <div class="spinner"></div>
	  <p>로딩 중<br/>잠시만 기다려주세요.<span id="completeCnt"></span></p>
	  <p id="curCallState"></p>
	  <p><br/></p>
	  <p>중간에 멈출 경우 페이지를 새로고침을 하지 말고<br/>다시 채널링 버튼을 누르면 못 받은 데이터만 호출 합니다.</p>
	  <p></p>
	  <p style="display: inline;">"에러 발생시에만" 로딩 화면이 꺼지지 않는다면<br/><span id="loadingClose">로딩 화면 끄기</span>를 눌러주세요</p>
	 
	</div>
	
	<div class="modal-overlay" id="modalBackground" style="display:none;"></div>
	
	<footer>
		<p>Data based on NEXON Open API</p>
		<p>V241106-2302</p>
		<span>made by @Shuu__deal</span>
	</footer>
</body>
</html>
